<!doctype html>
<html lang="de" data-theme="auto">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mitarbeiterbereich – Schmerz by Michelle</title>
  <meta name="description" content="Interner Bereich: Logbuch & Kalender." />
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <header class="site-header">
    <div class="container nav">
      <div class="brand">
        <img src="/Assets/Logo.png" alt="Praxis Logo" class="logo" />
        <strong>Schmerz by Michelle</strong>
      </div>
      <nav class="nav-links">
        <a data-href="/index.html" href="/index.html">Start</a>
        <a data-href="/leistungen.html" href="/leistungen.html">Leistungen</a>
        <a data-href="/praxis.html" href="/praxis.html">Praxis</a>
        <a data-href="/kontakt.html" href="/kontakt.html">Termin & Kontakt</a>
        <a data-href="/team.html" href="/team.html">Team</a>
        <a data-href="/recht.html" href="/recht.html">Impressum & Datenschutz</a>
      </nav>
      <button id="theme-toggle" class="theme-toggle" type="button">Theme: auto</button>
    </div>
  </header>

  <!-- Login -->
  <main class="container">
    <section id="login-card" class="card login-card">
      <h1>Login Mitarbeiterbereich</h1>
      <form id="login-form">
        <label for="user">Benutzername</label>
        <input class="input" id="user" name="user" required placeholder="z. B. Dennis" />
        <label for="pass">Passwort</label>
        <input class="input" id="pass" name="pass" type="password" required placeholder="••••" />
        <p class="helper">Testzugang: Benutzer <code>Dennis</code>, Passwort <code>1</code></p>
        <button class="btn" type="submit">Anmelden</button>
      </form>
    </section>

    <!-- App -->
    <section id="staff-app" style="display:none">
      <div class="container" style="padding:0">
        <div class="card" style="display:flex; justify-content:space-between; align-items:center;">
          <h1 style="margin:0">Mitarbeiterbereich</h1>
          <div style="display:flex; gap:8px;">
            <button id="export-csv" class="btn secondary" type="button">Anfragen als CSV exportieren</button>
            <button id="logout-btn" class="btn secondary" type="button">Abmelden</button>
          </div>
        </div>

        <!-- Logbuch -->
        <section class="card">
          <h2>Logbuch – Anmeldungen</h2>
          <div style="overflow:auto">
            <table class="table">
              <thead>
                <tr>
                  <th>Datum</th>
                  <th>Patient</th>
                  <th>Name</th>
                  <th>Kontakt</th>
                  <th>Symptome</th>
                  <th>Status</th>
                  <th>Aktion</th>
                </tr>
              </thead>
              <tbody id="logbook-body"></tbody>
            </table>
          </div>
        </section>

        <!-- Kalender -->
<section class="card" id="calendar-anchor">
  <h2>Kalender</h2>

  <form id="calendar-form" class="form-row form-row-2" style="margin-bottom:16px">
    <div>
      <label for="calendar-submission">Patient</label>
      <select id="calendar-submission" name="submission" class="select" required>
        <option value="">— Patient wählen —</option>
      </select>
    </div>
    <div>
      <label for="calendar-date">Datum</label>
      <input id="calendar-date" name="date" class="input" type="date" required />
    </div>
    <div>
      <label for="calendar-time">Uhrzeit</label>
      <select id="calendar-time" name="time" class="select" required>
        <option value="08:00">08:00</option><option value="09:00">09:00</option>
        <option value="10:00">10:00</option><option value="11:00">11:00</option>
        <option value="12:00">12:00</option><option value="13:00">13:00</option>
        <option value="14:00">14:00</option><option value="15:00">15:00</option>
        <option value="16:00">16:00</option><option value="17:00">17:00</option>
        <option value="18:00">18:00</option><option value="19:00">19:00</option>
        <option value="20:00">20:00</option>
      </select>
    </div>
    <div>
      <label class="visually-hidden" for="calendar-submit">Eintragen</label>
      <button id="calendar-submit" class="btn" type="submit" style="margin-top:30px">Eintragen</button>
    </div>
  </form>

  <!-- Toolbar -->
  <div style="display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-bottom:12px">
    <div style="display:flex; gap:8px;">
      <button id="cal-mode-week"  class="btn secondary" type="button">Woche wechseln</button>
      <button id="cal-mode-month" class="btn secondary" type="button">Monat wechseln</button>
    </div>
    <div style="display:flex; gap:8px; align-items:center; margin-left:auto;">
      <button id="cal-prev" class="btn secondary" type="button">«</button>
      <strong id="calendar-header">Ansicht</strong>
      <button id="cal-next" class="btn secondary" type="button">»</button>
    </div>
  </div>

  <div class="calendar" id="calendar" aria-label="Kalenderansicht"></div>
</section>
  </main>

  <footer>
    <div class="container">© <span id="year"></span> Schmerz by Michelle · <a href="/recht.html">Impressum & Datenschutz</a></div>
  </footer>

  <script src="/js/main.js"></script>
  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>
  <!-- Modal / Pop-up -->
<div id="modal" aria-modal="true" role="dialog">
  <div class="box" id="modal-box"></div>
</div>
</body>
</html>
